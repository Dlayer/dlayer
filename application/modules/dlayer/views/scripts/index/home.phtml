<?php /** @var $this Dlayer_View_Codehinting */ ?>

<div class="row">
	<div class="col-md-12 col-xs-12">	
		<h1>Dlayer</h1>

		<p>Dlayer has one simple goal, allow you the user to develop a web site 
			with contol of every element without ever writing a single line of html, 
			css or code. Dlayer is not a templating system, you are not limited in any 
			way, there are widgets, templates, forms and a question manager to help 
			you build the site you want..</p>

		<p>There are seven designers in Dlayer, three that are based around 
			content, <strong>Content manager</strong>, 
			<strong>Form builder</strong> and <strong>Question manger</strong>, 
			two that are used for designing your web site, 
			<strong>Template designer</strong> and 
			<strong>Widget designer</strong>, one which lets you bring it all 
			together to create a working web site, the 
			<strong>Web site manager</strong>, one which is used to manage 
			data, the <strong>Data manager</strong> and an 
			<strong>Image library</strong>.</p>

		<p class="bg-info dev-note">The entire app should be considered as a 
			very early alpha.</p>
	</div>
</div>

<div class="row">
	<div class="col-md-12 col-xs-12">
		<h2>Enabled sections <small>Either partial functionality or a 
			preview</small></h2>

		<p>The <?php echo count($this->modules_enabled); ?> sections listed 
			below are accessible, they are either actively being 
			developed, on hold because I need to bring up other parts of the 
			app before continuing development or in a preview state.</p>

		<ol>
			<?php foreach($this->modules_enabled as $module) { ?>
				<li><a href="/<?php echo $this->escape($module['name']); ?>">
					<?php echo $this->escape($module['title']); ?></a> - 
				<?php echo $module['description']; ?></li>
				<?php } ?>
		</ol>

		<h2>Disabled sections <small>Not for public consumption</small></h2>

		<p>The <?php echo count($this->modules_disabled); ?> sections listed 
			below are not accessible, this could be because they are still in 
			early development, planning or in a transition period, they are not 
			ready for prime time.</p>

		<ol>
			<?php foreach($this->modules_disabled as $module) { ?>
				<li><?php echo $this->escape($module['title']); ?> - 
				<?php echo $module['description']; ?></li>
				<?php } ?>
		</ol>
	</div>
</div>

<div class="row">
	<div class="col-md-12 col-xs-12">
		<h2>Web site: <small><?php echo $this->escape($this->last_accessed_site); ?></small></h2>

		<p class="bg-info dev-note"><?php echo $this->escape($this->last_accessed_site); ?></strong> 
			is currently selected, to work on another of your web sites or to create a 
			new one please use the links below.</p>

		<?php foreach($this->sites as $site) { ?>
			<?php if($site['id'] == $this->site_id) { ?>
				<p>
					<button type="button" class="btn btn-default btn-xs"><?php echo $this->escape($site['name']); ?></button>  
					<?php if($site['name'] != 'Sample site 1') { ?>
						<a href="/dlayer/index/edit-site" class="btn btn-default btn-xs">Edit</a> 
					<?php } ?>
					<a href="#" class="btn btn-default btn-xs disabled">Copy</a> 
					<span class="label label-success">Selected</span>
				</p>
				<?php } else { ?>
				<p>
					<a href="/dlayer/index/activate/site/<?php echo $this->escape($site['id']); ?>" class="btn btn-default btn-xs">
					<?php echo $this->escape($site['name']); ?></a>
				</p>
				<?php } ?>
			<?php } ?>
		<p><a href="/dlayer/index/new-site" class="btn btn-primary btn">New web site</a></p>
	</div>
</div>