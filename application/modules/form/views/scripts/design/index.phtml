<?php /** @var $this Dlayer_View_Codehinting */ ?>

<script type="text/javascript">
$(document).ready(function() 
	{
		<?php if($this->field_id == NULL && $this->tool == NULL) { ?>
			dlayer.selectors.form();
			dlayer.movers.formFields();
			<?php } ?>
			
		// Toggles for tools section
		$('div#tools h4').click(
			function() 
			{
				var selector = this.className;
				$('div.' + selector).toggle();
				
				if($('h4.' + selector + ' > span').hasClass('glyphicon-minus')) {
					$('h4.' + selector + ' > span').removeClass('glyphicon-minus');
					$('h4.' + selector + ' > span').addClass('glyphicon-plus');
				} else {
					$('h4.' + selector + ' > span').removeClass('glyphicon-plus');
					$('h4.' + selector + ' > span').addClass('glyphicon-minus');
				}
			}
		)
		
		<?php if($this->tool == FALSE) { ?>
		$('div#tools h4.tool-row-4').trigger('click');
		<?php } else { ?>
		<?php if(in_array($this->tool, array('text', 'password', 'textarea')) == FALSE) { ?>
		$('div#tools h4.tool-row-4').trigger('click');
		<?php } ?>
		<?php } ?>
});
</script>

<div id="designer">
	<div id="design" class="row">
		<?php echo $this->dlayer_form; ?>
	</div>
	<div id="tools">
		<?php echo $this->dlayer_toolbar; ?>
	</div>
	<?php if($this->return != NULL) { ?>
	<div id="return">
		<div class="row">
			<div class="col-xs-12">
				<a href="/<?php echo $this->escape($this->return); ?>/design" 
				class="btn btn-info btn-sm">Return to previous designer</a>
			</div>
		</div>
	</div>
	<?php } ?>
	<div id="ribbon">
		<?php echo $this->dlayer_ribbon; ?>
	</div>
</div>